! rm testgraphfilename_garbage_collection.db
#the test is typically started from the tests folder (has to be started from there due to the local path), so you will find the testgraphfilename.db there
new graph "persistentgraph/persistentgraph_garbage_collection" persist with "libGrPersistenceProviderSQLite.dll" to "Data Source=testgraphfilename_garbage_collection.db;Version=3;"

show num nodes N
show num edges E

show num from database

exec init
exec initNested
exec (::n,::e,::o)=find
exec in ::n.g { find }
exec in graphof(::n.nodeFromOtherwiseUnreachableGraph) { find }
exec in ::e.se.peek(0) { find }
exec in ::e.se.peek(1) { find }

show num nodes N
show num edges E

show num from database

quit
